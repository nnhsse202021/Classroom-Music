
<head>
  <meta name="google-signin-client_id" content="430954870897-nqat6i8u9fbhsl4kdctnni162isherhh.apps.googleusercontent.com">
  <link rel="stylesheet" type="text/css" href="/static/style.css" />
  <script src="https://apis.google.com/js/client.js?onload=onClientLoad"></script>
  <script src="https://apis.google.com/js/api.js"></script>
  <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>

<body>
  <script src="/static/sessions.js"></script>

  
  <div id="signInBox">
    <div class="card">
      <div class="card-header">Please Sign in</div>
        <div class="card-body">
          <p class="card-text">To access the website you are required to sign in with Google.</p>

          <!-- Google sign in button -->
          <div id = "googleButton" class="g-signin2" data-onsuccess="onSignIn"></div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    function onSignIn(googleUser) {
      setLogin();

      var profile = googleUser.getBasicProfile();
      console.log('Name: ' + profile.getName());
      console.log('Email: ' + profile.getEmail());

      if (profile.getEmail().includes("@naperville203.org")) {
        window.location.href = window.location.origin + "/static/teacher.html";
      }
      else if (["dpbabenkov@stu.naperville203.org", "gwu@stu.naperville203.org", "geoffrey.feifei@gmail.com"].includes(profile.getEmail())) {
        window.location.href = window.location.origin + "/static/teacher.html";
      }
      else {
        window.location.href = window.location.origin + "/static/student.html";
      }
    }
  </script>
  
</body>